<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="res_partner_view_form_inherit_banking_crm" model="ir.ui.view">
        <field name="name">res.partner.view.form.inherit.banking.crm</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='sales_purchases']" position="after">
                <page string="Banking Information" name="banking_information" class="o_banking_sheet">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="o_banking_card">
                                <h4 class="mb-3" style="color: var(--banking-primary); font-weight: 600;">
                                    <i class="fa fa-shield mr-2"></i>KYC Status
                                </h4>
                                <field name="kyc_status" widget="badge" class="mb-3"/>
                                <div class="row">
                                    <div class="col-12 mb-3">
                                        <label class="o_form_label">Credit Score</label>
                                        <div class="d-flex align-items-center">
                                            <i class="fa fa-star mr-2" style="color: var(--banking-warning);"></i>
                                            <field name="credit_score" class="h4 mb-0" style="color: var(--banking-warning); font-weight: 700;"/>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <field name="cif_number"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="o_banking_card">
                                <h4 class="mb-3" style="color: var(--banking-secondary); font-weight: 600;">
                                    <i class="fa fa-user mr-2"></i>Personal Information
                                </h4>
                                <field name="date_of_birth" class="mb-3"/>
                                <field name="gender" class="mb-3"/>
                                <field name="marital_status"/>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="o_banking_card">
                                <h4 class="mb-3" style="color: var(--banking-accent); font-weight: 600;">
                                    <i class="fa fa-cog mr-2"></i>Preferences
                                </h4>
                                <field name="communication_preference" class="mb-3"/>
                                <field name="consent_gdpr" class="mb-3"/>
                                <field name="marketing_segment"/>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <div class="o_banking_card">
                                <h4 class="mb-3" style="color: var(--banking-info); font-weight: 600;">
                                    <i class="fa fa-file-text mr-2"></i>KYC & Regulatory Information
                                </h4>
                                <field name="full_legal_name" class="mb-3"/>
                                <field name="mother_name" class="mb-3"/>
                                <field name="nationality" class="mb-3"/>
                                <field name="taxpayer_identification_number" class="mb-3"/>
                                <field name="occupation" class="mb-3"/>
                                <field name="employer_name" class="mb-3"/>
                                <field name="source_of_income" class="mb-3"/>
                                <field name="employment_tenure" class="mb-3"/>
                                <field name="existing_bank_account_details"/>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="o_banking_card">
                                <h4 class="mb-3" style="color: var(--banking-success); font-weight: 600;">
                                    <i class="fa fa-share-alt mr-2"></i>Social Media
                                </h4>
                                <div class="mb-3">
                                    <label class="o_form_label">LinkedIn Profile</label>
                                    <div class="d-flex align-items-center">
                                        <i class="fa fa-linkedin mr-2" style="color: #0077b5;"></i>
                                        <field name="linkedin_profile" widget="url" nolabel="1"/>
                                    </div>
                                </div>
                                <div class="mb-3">
                                    <label class="o_form_label">Twitter Profile</label>
                                    <div class="d-flex align-items-center">
                                        <i class="fa fa-twitter mr-2" style="color: #1da1f2;"></i>
                                        <field name="twitter_profile" widget="url" nolabel="1"/>
                                    </div>
                                </div>
                                <div>
                                    <label class="o_form_label">Facebook Profile</label>
                                    <div class="d-flex align-items-center">
                                        <i class="fa fa-facebook mr-2" style="color: #1877f2;"></i>
                                        <field name="facebook_profile" widget="url" nolabel="1"/>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <notebook class="o_banking_card">
                        <page string="Dashboard" name="dashboard">
                            <div class="mb-3">
                                <h4 style="color: var(--banking-primary); font-weight: 600;">
                                    <i class="fa fa-dashboard mr-2"></i>Customer Dashboard
                                </h4>
                            </div>
                            <field name="dashboard_html" widget="html"/>
                        </page>
                        <page string="Bank Accounts" name="bank_accounts">
                            <div class="mb-3">
                                <h4 style="color: var(--banking-secondary); font-weight: 600;">
                                    <i class="fa fa-bank mr-2"></i>Bank Accounts
                                </h4>
                            </div>
                            <field name="bank_account_ids">
                                <tree editable="bottom" class="table-striped">
                                    <field name="account_number" string="Account #"/>
                                    <field name="account_type" string="Type"/>
                                    <field name="balance" widget="monetary" string="Balance"/>
                                    <field name="currency_id" invisible="1"/>
                                    <field name="status" widget="badge" decoration-success="status == 'active'" decoration-muted="status == 'dormant'" decoration-danger="status == 'closed'"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Loans" name="loans">
                            <div class="mb-3">
                                <h4 style="color: var(--banking-success); font-weight: 600;">
                                    <i class="fa fa-money mr-2"></i>Loans
                                </h4>
                            </div>
                            <field name="loan_ids">
                                <tree editable="bottom" class="table-striped">
                                    <field name="loan_type" string="Type"/>
                                    <field name="principal_amount" widget="monetary" string="Principal"/>
                                    <field name="interest_rate" string="Rate (%)"/>
                                    <field name="term" string="Term (Months)"/>
                                    <field name="status" widget="badge" decoration-success="status == 'active'" decoration-info="status == 'approved'" decoration-warning="status == 'application'" decoration-muted="status == 'paid_off'" decoration-danger="status == 'rejected'"/>
                                    <field name="currency_id" invisible="1"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Tickets" name="tickets">
                            <div class="mb-3">
                                <h4 style="color: var(--banking-warning); font-weight: 600;">
                                    <i class="fa fa-ticket mr-2"></i>Support Tickets
                                </h4>
                            </div>
                            <field name="ticket_ids"/>
                        </page>
                        <page string="Cards" name="cards">
                            <div class="mb-3">
                                <h4 style="color: var(--banking-info); font-weight: 600;">
                                    <i class="fa fa-credit-card mr-2"></i>Banking Cards
                                </h4>
                            </div>
                            <field name="card_ids">
                                <tree editable="bottom" class="table-striped">
                                    <field name="name" string="Card Number"/>
                                    <field name="card_type" string="Type"/>
                                    <field name="expiration_date" string="Expires"/>
                                    <field name="is_active" widget="boolean_toggle" string="Active"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </page>
            </xpath>
        </field>
    </record>
</odoo>